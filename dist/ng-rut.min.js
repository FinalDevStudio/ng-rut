!function(t){"use strict";function n(t){t=String(t);var n=t.substr(-1,1),r=t.substr(0,t.length-1);return n=n.replace(/[^\dk]+/gi,""),r=r.replace(/\D+/g,""),r+n}function r(t){if(t=n(t),t.length<3)return t;var r=t.substr(-1,1),e=t.substr(0,t.length-1);return e=e.replace(/(\d)(?=(\d{3})+\b)/g,"$1."),e+"-"+r}function e(t){if(t=n(t),t.length<3)return t;var r=t.substr(-1,1),e=t.substr(0,t.length-1),u=0,i=1,l="k";for(isNaN(r)&&(r=l);e;e=Math.floor(e/10))i=(i+e%10*(9-u++%6))%11;return String(i?i-1:l)===r}function u(t){return t=e(t),ngModel.$setValidity("rut",t),t}function i(t){return u(t)?t:null}function l(t){return u(t)?r(t):null}t.module("ngRut",[]).factory("ngRut",function(){return{validate:e,format:r,clean:n}}).directive("ngRut",function(){return{restrict:"A",require:"ngModel",link:function(t,n,e,u){if("INPUT"===element[0].tagName)throw new TypeError("[ngRut] directive must be used on [INPUT] elements only!");u.$parsers.unshift(i),u.$formatters.unshift(l),n.on("input",function(){n.val(r(n.val()))})}}}).filter("ngRut",function(){return function(t,u){switch(u){case"validate":return e(t);case"clean":return n(t);default:return r(t)}}})}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nLXJ1dC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwiY2xlYW4iLCJ2YWwiLCJTdHJpbmciLCJ2ZXJpZmllciIsInN1YnN0ciIsImRpZ2l0cyIsImxlbmd0aCIsInJlcGxhY2UiLCJmb3JtYXQiLCJ2YWxpZGF0ZSIsIm0iLCJzIiwiayIsImlzTmFOIiwiTWF0aCIsImZsb29yIiwiaXNWYWxpZCIsIm5nTW9kZWwiLCIkc2V0VmFsaWRpdHkiLCJ2YWxpZGF0ZUFuZEZpbHRlciIsInZhbGlkYXRlQW5kRm9ybWF0IiwibW9kdWxlIiwiZmFjdG9yeSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVxdWlyZSIsImxpbmsiLCIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsImVsZW1lbnQiLCJ0YWdOYW1lIiwiVHlwZUVycm9yIiwiJHBhcnNlcnMiLCJ1bnNoaWZ0IiwiJGZvcm1hdHRlcnMiLCJvbiIsImZpbHRlciIsImFjdGlvbiJdLCJtYXBwaW5ncyI6IkNBY0MsU0FBVUEsR0FDVCxZQVFBLFNBQVNDLEdBQU1DLEdBQ2JBLEVBQU1DLE9BQU9ELEVBR2IsSUFBSUUsR0FBV0YsRUFBSUcsT0FBTyxHQUFJLEdBRzFCQyxFQUFTSixFQUFJRyxPQUFPLEVBQUdILEVBQUlLLE9BQVMsRUFReEMsT0FMQUgsR0FBV0EsRUFBU0ksUUFBUSxZQUFhLElBR3pDRixFQUFTQSxFQUFPRSxRQUFRLE9BQVEsSUFFekJGLEVBQVNGLEVBU2xCLFFBQVNLLEdBQU9QLEdBSWQsR0FIQUEsRUFBTUQsRUFBTUMsR0FHUkEsRUFBSUssT0FBUyxFQUNmLE1BQU9MLEVBSVQsSUFBSUUsR0FBV0YsRUFBSUcsT0FBTyxHQUFJLEdBRzFCQyxFQUFTSixFQUFJRyxPQUFPLEVBQUdILEVBQUlLLE9BQVMsRUFLeEMsT0FGQUQsR0FBU0EsRUFBT0UsUUFBUSxzQkFBdUIsT0FFeENGLEVBQVMsSUFBTUYsRUFTeEIsUUFBU00sR0FBU1IsR0FJaEIsR0FIQUEsRUFBTUQsRUFBTUMsR0FHUkEsRUFBSUssT0FBUyxFQUNmLE1BQU9MLEVBSVQsSUFBSUUsR0FBV0YsRUFBSUcsT0FBTyxHQUFJLEdBRzFCQyxFQUFTSixFQUFJRyxPQUFPLEVBQUdILEVBQUlLLE9BQVMsR0FFcENJLEVBQUksRUFDSkMsRUFBSSxFQUNKQyxFQUFJLEdBT1IsS0FKSUMsTUFBTVYsS0FDUkEsRUFBV1MsR0FHTlAsRUFBUUEsRUFBU1MsS0FBS0MsTUFBTVYsRUFBUyxJQUMxQ00sR0FBS0EsRUFBSU4sRUFBUyxJQUFNLEVBQUlLLElBQU0sSUFBTSxFQUcxQyxPQUFPUixRQUFPUyxFQUFJQSxFQUFJLEVBQUlDLEtBQU9ULEVBU25DLFFBQVNhLEdBQVFmLEdBS2YsTUFKQUEsR0FBTVEsRUFBU1IsR0FFZmdCLFFBQVFDLGFBQWEsTUFBT2pCLEdBRXJCQSxFQVNULFFBQVNrQixHQUFrQmxCLEdBQ3pCLE1BQUllLEdBQVFmLEdBQ0hBLEVBR0YsS0FTVCxRQUFTbUIsR0FBa0JuQixHQUN6QixNQUFJZSxHQUFRZixHQUNITyxFQUFPUCxHQUdULEtBSVRGLEVBQVFzQixPQUFPLFlBR2ZDLFFBQVEsUUFBUyxXQUNmLE9BQ0ViLFNBQVVBLEVBQ1ZELE9BQVFBLEVBQ1JSLE1BQU9BLEtBS1h1QixVQUFVLFFBQVMsV0FDakIsT0FDRUMsU0FBVSxJQUNWQyxRQUFTLFVBQ1RDLEtBQU0sU0FBVUMsRUFBUUMsRUFBVUMsRUFBUVosR0FFeEMsR0FBMkIsVUFBdkJhLFFBQVEsR0FBR0MsUUFDYixLQUFNLElBQUlDLFdBQVUsMkRBSXRCZixHQUFRZ0IsU0FBU0MsUUFBUWYsR0FDekJGLEVBQVFrQixZQUFZRCxRQUFRZCxHQUc1QlEsRUFBU1EsR0FBRyxRQUFTLFdBQ25CUixFQUFTM0IsSUFBSU8sRUFBT29CLEVBQVMzQixjQU9yQ29DLE9BQU8sUUFBUyxXQUNkLE1BQU8sVUFBVXBDLEVBQUtxQyxHQUNwQixPQUFRQSxHQUNOLElBQUssV0FDSCxNQUFPN0IsR0FBU1IsRUFFbEIsS0FBSyxRQUNILE1BQU9ELEdBQU1DLEVBRWYsU0FDRSxNQUFPTyxHQUFPUCxRQUt0QkYiLCJmaWxlIjoibmctcnV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBbmd1bGFySlMgQ2hpbGVhbiBSVVQgVXRpbGl0aWVzLlxuICpcbiAqIFByb3ZpZGVzIGEgZGlyZWN0aXZlLCBhIGNvbnN0YW50IGFuZCBhIGZpbHRlciB3aGljaCBwcm92aWRlcyBDaGlsZWFuIFJVVCBjbGVhbmluZyxcbiAqIHZhbGlkYXRpb24gYW5kIGZvcm1hdHRpbmcuXG4gKlxuICogQG5hbWUgbmctcnV0XG4gKiBAbW9kdWxlIG5nUnV0XG4gKiBAdHlwZSBBbmd1bGFySlMgTW9kdWxlXG4gKiBAcmVxdWlyZXMgQW5ndWxhckpTIDEuMitcbiAqIEB2ZXJzaW9uIDEuMC4wXG4gKiBAYXV0aG9yIFNhbnRpYWdvIEcuIE1hcsOtbiA8c2FudGlhZ29AZmluYWxkZXZzdHVkaW8uY29tPlxuICovXG5cbihmdW5jdGlvbiAoYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIENsZWFuIGEgc3RyaW5nIG91dCBvZiBpbnZhbGlkIFJVVCBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBjbGVhbi5cbiAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgY2xlYW5lZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBjbGVhbih2YWwpIHtcbiAgICB2YWwgPSBTdHJpbmcodmFsKTtcblxuICAgIC8qIE9idGFpbiB0aGUgdmVyaWZpZXIgZGlnaXQgKi9cbiAgICB2YXIgdmVyaWZpZXIgPSB2YWwuc3Vic3RyKC0xLCAxKTtcblxuICAgIC8qIE9idGFpbiB0aGUgUlVUIGRpZ2l0cyAqL1xuICAgIHZhciBkaWdpdHMgPSB2YWwuc3Vic3RyKDAsIHZhbC5sZW5ndGggLSAxKTtcblxuICAgIC8qIEtlZXAgb25seSBkaWdpdHMgYW5kICdrJyBvciAnSycgKi9cbiAgICB2ZXJpZmllciA9IHZlcmlmaWVyLnJlcGxhY2UoL1teXFxka10rL2dpLCAnJyk7XG5cbiAgICAvKiBLZWVwIG9ubHkgZGlnaXRzICovXG4gICAgZGlnaXRzID0gZGlnaXRzLnJlcGxhY2UoL1xcRCsvZywgJycpO1xuXG4gICAgcmV0dXJuIGRpZ2l0cyArIHZlcmlmaWVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdHMgYSBzdHJpbmcgYXMgYSB2YWxpZCBSVVQgbnVtYmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBmb3JtYXQuXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGZvcm1hdHRlZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBmb3JtYXQodmFsKSB7XG4gICAgdmFsID0gY2xlYW4odmFsKTtcblxuICAgIC8qIENoZWNrIGlmIHZhbHVlIGlzIHRvbyBzaG9ydCAqL1xuICAgIGlmICh2YWwubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG5cbiAgICAvKiBPYnRhaW4gdGhlIHZlcmlmaWVyIGRpZ2l0ICovXG4gICAgdmFyIHZlcmlmaWVyID0gdmFsLnN1YnN0cigtMSwgMSk7XG5cbiAgICAvKiBPYnRhaW4gdGhlIFJVVCBkaWdpdHMgKi9cbiAgICB2YXIgZGlnaXRzID0gdmFsLnN1YnN0cigwLCB2YWwubGVuZ3RoIC0gMSk7XG5cbiAgICAvKiBHcm91cCBkaWdpdHMgd2l0aCBkb3RzICovXG4gICAgZGlnaXRzID0gZGlnaXRzLnJlcGxhY2UoLyhcXGQpKD89KFxcZHszfSkrXFxiKS9nLCAnJDEuJyk7XG5cbiAgICByZXR1cm4gZGlnaXRzICsgJy0nICsgdmVyaWZpZXI7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGVzIGEgc3RyaW5nIGZvciBhIHZhbGlkIFJVVCBudW1iZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWwgVGhlIHN0cmluZyB0byB2YWxpZGF0ZS5cbiAgICogQHJldHVybiB7Qm9vbGVhbn0gSWYgdGhlIHN0cmluZyBpcyBhIHZhbGlkIFJVVCBudW1iZXIuXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZSh2YWwpIHtcbiAgICB2YWwgPSBjbGVhbih2YWwpO1xuXG4gICAgLyogQ2hlY2sgaWYgdmFsdWUgaXMgdG9vIHNob3J0ICovXG4gICAgaWYgKHZhbC5sZW5ndGggPCAzKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cblxuICAgIC8qIEdldCB2ZXJpZmllciBkaWdpdCAqL1xuICAgIHZhciB2ZXJpZmllciA9IHZhbC5zdWJzdHIoLTEsIDEpO1xuXG4gICAgLyogZ2V0IFJVVCBkaWdpdHMgKi9cbiAgICB2YXIgZGlnaXRzID0gdmFsLnN1YnN0cigwLCB2YWwubGVuZ3RoIC0gMSk7XG5cbiAgICB2YXIgbSA9IDA7XG4gICAgdmFyIHMgPSAxO1xuICAgIHZhciBrID0gJ2snO1xuXG4gICAgLyogSWYgdGhlIHZlcmlmaWVyIGlzIG5vdCBhIG51bWJlciB0aGVuIGl0IG11cyBiZSAnaycgKi9cbiAgICBpZiAoaXNOYU4odmVyaWZpZXIpKSB7XG4gICAgICB2ZXJpZmllciA9IGs7XG4gICAgfVxuXG4gICAgZm9yICg7IGRpZ2l0czsgZGlnaXRzID0gTWF0aC5mbG9vcihkaWdpdHMgLyAxMCkpIHtcbiAgICAgIHMgPSAocyArIGRpZ2l0cyAlIDEwICogKDkgLSBtKysgJSA2KSkgJSAxMTtcbiAgICB9XG5cbiAgICByZXR1cm4gU3RyaW5nKHMgPyBzIC0gMSA6IGspID09PSB2ZXJpZmllcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhbHVlIGlzIGEgdmFsaWQgUlVULlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBpc1ZhbGlkKHZhbCkge1xuICAgIHZhbCA9IHZhbGlkYXRlKHZhbCk7XG5cbiAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgncnV0JywgdmFsKTtcblxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICAvKipcbiAgICogRmlsdGVycyBhbmQgdmFsaWRhdGVzIGEgdmFsdWUgYXMgUlVULlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgdmFsdWUgaWYgdmFsaWQgb3IgbnVsbC5cbiAgICovXG4gIGZ1bmN0aW9uIHZhbGlkYXRlQW5kRmlsdGVyKHZhbCkge1xuICAgIGlmIChpc1ZhbGlkKHZhbCkpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGVzIGFuZCBmb3JtYXRzIGEgdmFsdWUgYXMgUlVULlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgZm9ybWF0dGVkIHZhbHVlIGlmIHZhbGlkIG9yIG51bGwuXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZUFuZEZvcm1hdCh2YWwpIHtcbiAgICBpZiAoaXNWYWxpZCh2YWwpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KHZhbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKiBEZWZpbmUgdGhlIEFuZ3VsYXIgbW9kdWxlICovXG4gIGFuZ3VsYXIubW9kdWxlKCduZ1J1dCcsIFtdKS5cblxuICAvKiBDcmVhdGUgdGhlIHNlcnZpY2UgKi9cbiAgZmFjdG9yeSgnbmdSdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSxcbiAgICAgIGZvcm1hdDogZm9ybWF0LFxuICAgICAgY2xlYW46IGNsZWFuXG4gICAgfTtcbiAgfSkuXG5cbiAgLyogQ3JlYXRlIHRoZSBkaXJlY3RpdmUgKi9cbiAgZGlyZWN0aXZlKCduZ1J1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgLyogQ2hlY2sgaWYgZWxlbWVudCBpcyBhbiBpbnB1dCAqL1xuICAgICAgICBpZiAoZWxlbWVudFswXS50YWdOYW1lID09PSAnSU5QVVQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIltuZ1J1dF0gZGlyZWN0aXZlIG11c3QgYmUgdXNlZCBvbiBbSU5QVVRdIGVsZW1lbnRzIG9ubHkhXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogQXNzaWduIG1vZGVsIHZhbGlkYXRvcnMgYW5kIGZvcm1hdHRlcnMgKi9cbiAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy51bnNoaWZ0KHZhbGlkYXRlQW5kRmlsdGVyKTtcbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy51bnNoaWZ0KHZhbGlkYXRlQW5kRm9ybWF0KTtcblxuICAgICAgICAvKiBGb3JtYXQgdGhlIGlucHV0IGVsZW1lbnQgb24gaW5wdXQgKi9cbiAgICAgICAgJGVsZW1lbnQub24oJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRlbGVtZW50LnZhbChmb3JtYXQoJGVsZW1lbnQudmFsKCkpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkuXG5cbiAgLyogQ3JlYXRlIHRoZSBmaWx0ZXIgKi9cbiAgZmlsdGVyKCduZ1J1dCcsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbCwgYWN0aW9uKSB7XG4gICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICBjYXNlICd2YWxpZGF0ZSc6XG4gICAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHZhbCk7XG5cbiAgICAgICAgY2FzZSAnY2xlYW4nOlxuICAgICAgICAgIHJldHVybiBjbGVhbih2YWwpO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdCh2YWwpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG59KGFuZ3VsYXIpKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==