!function(t){"use strict";function n(t){t=String(t);var n=t.substr(-1,1),r=t.substr(0,t.length-1);return n=n.replace(/[^\dk]+/gi,""),r=r.replace(/\D+/g,""),r+n}function r(t){if(t=n(t),t.length<3)return t;var r=t.substr(-1,1),e=t.substr(0,t.length-1);return e=e.replace(/(\d)(?=(\d{3})+\b)/g,"$1."),e+"-"+r}function e(t){if(t=n(t),t.length<3)return t;var r=t.substr(-1,1),e=t.substr(0,t.length-1),u=0,i=1,a="k";for(isNaN(r)&&(r=a);e;e=Math.floor(e/10))i=(i+e%10*(9-u++%6))%11;return String(i?i-1:a)===r}function u(t){return t=e(t),ngModel.$setValidity("rut",t),t}function i(t){return u(t)?t:null}function a(t){return u(t)?r(t):null}t.module("ngRut",[]).factory("ngRut",function(){return{validate:e,format:r,clean:n}}).directive("ngRut",function(){return{restrict:"A",require:"ngModel",link:function(t,n,e,u){if("INPUT"===n[0].tagName)throw new TypeError("NGRUT: This directive must be used on INPUT elements only and element is "+n[0].tagName);u.$parsers.unshift(i),u.$formatters.unshift(a),n.on("input",function(){n.val(r(n.val()))})}}}).filter("ngRut",function(){return function(t,u){switch(u){case"validate":return e(t);case"clean":return n(t);default:return r(t)}}})}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nLXJ1dC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwiY2xlYW4iLCJ2YWwiLCJTdHJpbmciLCJ2ZXJpZmllciIsInN1YnN0ciIsImRpZ2l0cyIsImxlbmd0aCIsInJlcGxhY2UiLCJmb3JtYXQiLCJ2YWxpZGF0ZSIsIm0iLCJzIiwiayIsImlzTmFOIiwiTWF0aCIsImZsb29yIiwiaXNWYWxpZCIsIm5nTW9kZWwiLCIkc2V0VmFsaWRpdHkiLCJ2YWxpZGF0ZUFuZEZpbHRlciIsInZhbGlkYXRlQW5kRm9ybWF0IiwibW9kdWxlIiwiZmFjdG9yeSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVxdWlyZSIsImxpbmsiLCIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsInRhZ05hbWUiLCJUeXBlRXJyb3IiLCIkcGFyc2VycyIsInVuc2hpZnQiLCIkZm9ybWF0dGVycyIsIm9uIiwiZmlsdGVyIiwiYWN0aW9uIl0sIm1hcHBpbmdzIjoiQ0FjQyxTQUFVQSxHQUNULFlBUUEsU0FBU0MsR0FBTUMsR0FDYkEsRUFBTUMsT0FBT0QsRUFHYixJQUFJRSxHQUFXRixFQUFJRyxPQUFPLEdBQUksR0FHMUJDLEVBQVNKLEVBQUlHLE9BQU8sRUFBR0gsRUFBSUssT0FBUyxFQVF4QyxPQUxBSCxHQUFXQSxFQUFTSSxRQUFRLFlBQWEsSUFHekNGLEVBQVNBLEVBQU9FLFFBQVEsT0FBUSxJQUV6QkYsRUFBU0YsRUFTbEIsUUFBU0ssR0FBT1AsR0FJZCxHQUhBQSxFQUFNRCxFQUFNQyxHQUdSQSxFQUFJSyxPQUFTLEVBQ2YsTUFBT0wsRUFJVCxJQUFJRSxHQUFXRixFQUFJRyxPQUFPLEdBQUksR0FHMUJDLEVBQVNKLEVBQUlHLE9BQU8sRUFBR0gsRUFBSUssT0FBUyxFQUt4QyxPQUZBRCxHQUFTQSxFQUFPRSxRQUFRLHNCQUF1QixPQUV4Q0YsRUFBUyxJQUFNRixFQVN4QixRQUFTTSxHQUFTUixHQUloQixHQUhBQSxFQUFNRCxFQUFNQyxHQUdSQSxFQUFJSyxPQUFTLEVBQ2YsTUFBT0wsRUFJVCxJQUFJRSxHQUFXRixFQUFJRyxPQUFPLEdBQUksR0FHMUJDLEVBQVNKLEVBQUlHLE9BQU8sRUFBR0gsRUFBSUssT0FBUyxHQUVwQ0ksRUFBSSxFQUNKQyxFQUFJLEVBQ0pDLEVBQUksR0FPUixLQUpJQyxNQUFNVixLQUNSQSxFQUFXUyxHQUdOUCxFQUFRQSxFQUFTUyxLQUFLQyxNQUFNVixFQUFTLElBQzFDTSxHQUFLQSxFQUFJTixFQUFTLElBQU0sRUFBSUssSUFBTSxJQUFNLEVBRzFDLE9BQU9SLFFBQU9TLEVBQUlBLEVBQUksRUFBSUMsS0FBT1QsRUFTbkMsUUFBU2EsR0FBUWYsR0FLZixNQUpBQSxHQUFNUSxFQUFTUixHQUVmZ0IsUUFBUUMsYUFBYSxNQUFPakIsR0FFckJBLEVBU1QsUUFBU2tCLEdBQWtCbEIsR0FDekIsTUFBSWUsR0FBUWYsR0FDSEEsRUFHRixLQVNULFFBQVNtQixHQUFrQm5CLEdBQ3pCLE1BQUllLEdBQVFmLEdBQ0hPLEVBQU9QLEdBR1QsS0FJVEYsRUFBUXNCLE9BQU8sWUFHZkMsUUFBUSxRQUFTLFdBQ2YsT0FDRWIsU0FBVUEsRUFDVkQsT0FBUUEsRUFDUlIsTUFBT0EsS0FLWHVCLFVBQVUsUUFBUyxXQUNqQixPQUNFQyxTQUFVLElBQ1ZDLFFBQVMsVUFDVEMsS0FBTSxTQUFVQyxFQUFRQyxFQUFVQyxFQUFRWixHQUV4QyxHQUE0QixVQUF4QlcsRUFBUyxHQUFHRSxRQUNkLEtBQU0sSUFBSUMsV0FBVSw0RUFBOEVILEVBQVMsR0FBR0UsUUFJaEhiLEdBQVFlLFNBQVNDLFFBQVFkLEdBQ3pCRixFQUFRaUIsWUFBWUQsUUFBUWIsR0FHNUJRLEVBQVNPLEdBQUcsUUFBUyxXQUNuQlAsRUFBUzNCLElBQUlPLEVBQU9vQixFQUFTM0IsY0FPckNtQyxPQUFPLFFBQVMsV0FDZCxNQUFPLFVBQVVuQyxFQUFLb0MsR0FDcEIsT0FBUUEsR0FDTixJQUFLLFdBQ0gsTUFBTzVCLEdBQVNSLEVBRWxCLEtBQUssUUFDSCxNQUFPRCxHQUFNQyxFQUVmLFNBQ0UsTUFBT08sR0FBT1AsUUFLdEJGIiwiZmlsZSI6Im5nLXJ1dC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQW5ndWxhckpTIENoaWxlYW4gUlVUIFV0aWxpdGllcy5cbiAqXG4gKiBQcm92aWRlcyBhIGRpcmVjdGl2ZSwgYSBjb25zdGFudCBhbmQgYSBmaWx0ZXIgd2hpY2ggcHJvdmlkZXMgQ2hpbGVhbiBSVVQgY2xlYW5pbmcsXG4gKiB2YWxpZGF0aW9uIGFuZCBmb3JtYXR0aW5nLlxuICpcbiAqIEBuYW1lIG5nLXJ1dFxuICogQG1vZHVsZSBuZ1J1dFxuICogQHR5cGUgQW5ndWxhckpTIE1vZHVsZVxuICogQHJlcXVpcmVzIEFuZ3VsYXJKUyAxLjIrXG4gKiBAdmVyc2lvbiAxLjAuMFxuICogQGF1dGhvciBTYW50aWFnbyBHLiBNYXLDrW4gPHNhbnRpYWdvQGZpbmFsZGV2c3R1ZGlvLmNvbT5cbiAqL1xuXG4oZnVuY3Rpb24gKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDbGVhbiBhIHN0cmluZyBvdXQgb2YgaW52YWxpZCBSVVQgY2hhcmFjdGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gY2xlYW4uXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGNsZWFuZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gY2xlYW4odmFsKSB7XG4gICAgdmFsID0gU3RyaW5nKHZhbCk7XG5cbiAgICAvKiBPYnRhaW4gdGhlIHZlcmlmaWVyIGRpZ2l0ICovXG4gICAgdmFyIHZlcmlmaWVyID0gdmFsLnN1YnN0cigtMSwgMSk7XG5cbiAgICAvKiBPYnRhaW4gdGhlIFJVVCBkaWdpdHMgKi9cbiAgICB2YXIgZGlnaXRzID0gdmFsLnN1YnN0cigwLCB2YWwubGVuZ3RoIC0gMSk7XG5cbiAgICAvKiBLZWVwIG9ubHkgZGlnaXRzIGFuZCAnaycgb3IgJ0snICovXG4gICAgdmVyaWZpZXIgPSB2ZXJpZmllci5yZXBsYWNlKC9bXlxcZGtdKy9naSwgJycpO1xuXG4gICAgLyogS2VlcCBvbmx5IGRpZ2l0cyAqL1xuICAgIGRpZ2l0cyA9IGRpZ2l0cy5yZXBsYWNlKC9cXEQrL2csICcnKTtcblxuICAgIHJldHVybiBkaWdpdHMgKyB2ZXJpZmllcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRzIGEgc3RyaW5nIGFzIGEgdmFsaWQgUlVUIG51bWJlci5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gZm9ybWF0LlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBmb3JtYXR0ZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gZm9ybWF0KHZhbCkge1xuICAgIHZhbCA9IGNsZWFuKHZhbCk7XG5cbiAgICAvKiBDaGVjayBpZiB2YWx1ZSBpcyB0b28gc2hvcnQgKi9cbiAgICBpZiAodmFsLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuXG4gICAgLyogT2J0YWluIHRoZSB2ZXJpZmllciBkaWdpdCAqL1xuICAgIHZhciB2ZXJpZmllciA9IHZhbC5zdWJzdHIoLTEsIDEpO1xuXG4gICAgLyogT2J0YWluIHRoZSBSVVQgZGlnaXRzICovXG4gICAgdmFyIGRpZ2l0cyA9IHZhbC5zdWJzdHIoMCwgdmFsLmxlbmd0aCAtIDEpO1xuXG4gICAgLyogR3JvdXAgZGlnaXRzIHdpdGggZG90cyAqL1xuICAgIGRpZ2l0cyA9IGRpZ2l0cy5yZXBsYWNlKC8oXFxkKSg/PShcXGR7M30pK1xcYikvZywgJyQxLicpO1xuXG4gICAgcmV0dXJuIGRpZ2l0cyArICctJyArIHZlcmlmaWVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBhIHN0cmluZyBmb3IgYSB2YWxpZCBSVVQgbnVtYmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsIFRoZSBzdHJpbmcgdG8gdmFsaWRhdGUuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBzdHJpbmcgaXMgYSB2YWxpZCBSVVQgbnVtYmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGUodmFsKSB7XG4gICAgdmFsID0gY2xlYW4odmFsKTtcblxuICAgIC8qIENoZWNrIGlmIHZhbHVlIGlzIHRvbyBzaG9ydCAqL1xuICAgIGlmICh2YWwubGVuZ3RoIDwgMykge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG5cbiAgICAvKiBHZXQgdmVyaWZpZXIgZGlnaXQgKi9cbiAgICB2YXIgdmVyaWZpZXIgPSB2YWwuc3Vic3RyKC0xLCAxKTtcblxuICAgIC8qIGdldCBSVVQgZGlnaXRzICovXG4gICAgdmFyIGRpZ2l0cyA9IHZhbC5zdWJzdHIoMCwgdmFsLmxlbmd0aCAtIDEpO1xuXG4gICAgdmFyIG0gPSAwO1xuICAgIHZhciBzID0gMTtcbiAgICB2YXIgayA9ICdrJztcblxuICAgIC8qIElmIHRoZSB2ZXJpZmllciBpcyBub3QgYSBudW1iZXIgdGhlbiBpdCBtdXMgYmUgJ2snICovXG4gICAgaWYgKGlzTmFOKHZlcmlmaWVyKSkge1xuICAgICAgdmVyaWZpZXIgPSBrO1xuICAgIH1cblxuICAgIGZvciAoOyBkaWdpdHM7IGRpZ2l0cyA9IE1hdGguZmxvb3IoZGlnaXRzIC8gMTApKSB7XG4gICAgICBzID0gKHMgKyBkaWdpdHMgJSAxMCAqICg5IC0gbSsrICUgNikpICUgMTE7XG4gICAgfVxuXG4gICAgcmV0dXJuIFN0cmluZyhzID8gcyAtIDEgOiBrKSA9PT0gdmVyaWZpZXI7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIHZhbGlkIFJVVC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNWYWxpZCh2YWwpIHtcbiAgICB2YWwgPSB2YWxpZGF0ZSh2YWwpO1xuXG4gICAgbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ3J1dCcsIHZhbCk7XG5cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbHRlcnMgYW5kIHZhbGlkYXRlcyBhIHZhbHVlIGFzIFJVVC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHZhbHVlIGlmIHZhbGlkIG9yIG51bGwuXG4gICAqL1xuICBmdW5jdGlvbiB2YWxpZGF0ZUFuZEZpbHRlcih2YWwpIHtcbiAgICBpZiAoaXNWYWxpZCh2YWwpKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlcyBhbmQgZm9ybWF0cyBhIHZhbHVlIGFzIFJVVC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGZvcm1hdHRlZCB2YWx1ZSBpZiB2YWxpZCBvciBudWxsLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGVBbmRGb3JtYXQodmFsKSB7XG4gICAgaWYgKGlzVmFsaWQodmFsKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdCh2YWwpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyogRGVmaW5lIHRoZSBBbmd1bGFyIG1vZHVsZSAqL1xuICBhbmd1bGFyLm1vZHVsZSgnbmdSdXQnLCBbXSkuXG5cbiAgLyogQ3JlYXRlIHRoZSBzZXJ2aWNlICovXG4gIGZhY3RvcnkoJ25nUnV0JywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgIGNsZWFuOiBjbGVhblxuICAgIH07XG4gIH0pLlxuXG4gIC8qIENyZWF0ZSB0aGUgZGlyZWN0aXZlICovXG4gIGRpcmVjdGl2ZSgnbmdSdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgIC8qIENoZWNrIGlmIGVsZW1lbnQgaXMgYW4gaW5wdXQgKi9cbiAgICAgICAgaWYgKCRlbGVtZW50WzBdLnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTkdSVVQ6IFRoaXMgZGlyZWN0aXZlIG11c3QgYmUgdXNlZCBvbiBJTlBVVCBlbGVtZW50cyBvbmx5IGFuZCBlbGVtZW50IGlzIFwiICsgJGVsZW1lbnRbMF0udGFnTmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBBc3NpZ24gbW9kZWwgdmFsaWRhdG9ycyBhbmQgZm9ybWF0dGVycyAqL1xuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQodmFsaWRhdGVBbmRGaWx0ZXIpO1xuICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnVuc2hpZnQodmFsaWRhdGVBbmRGb3JtYXQpO1xuXG4gICAgICAgIC8qIEZvcm1hdCB0aGUgaW5wdXQgZWxlbWVudCBvbiBpbnB1dCAqL1xuICAgICAgICAkZWxlbWVudC5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJGVsZW1lbnQudmFsKGZvcm1hdCgkZWxlbWVudC52YWwoKSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KS5cblxuICAvKiBDcmVhdGUgdGhlIGZpbHRlciAqL1xuICBmaWx0ZXIoJ25nUnV0JywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBhY3Rpb24pIHtcbiAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ3ZhbGlkYXRlJzpcbiAgICAgICAgICByZXR1cm4gdmFsaWRhdGUodmFsKTtcblxuICAgICAgICBjYXNlICdjbGVhbic6XG4gICAgICAgICAgcmV0dXJuIGNsZWFuKHZhbCk7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZm9ybWF0KHZhbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbn0oYW5ndWxhcikpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9